(this.webpackJsonpbook_club_app=this.webpackJsonpbook_club_app||[]).push([[0],{36:function(e,t,s){},38:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),o=s(30),a=s.n(o),i=(s(36),s(15)),c=s.n(i),l=s(17),u=s(5),d=s(6),h=s(8),j=s(7),b=(s(38),s(2)),p=s(0),g=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).state={loggedIn:!1,error:!1},n.login=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("login method"),e.prev=1,e.next=4,n.props.click();case 4:t=e.sent,console.log("start response"),console.log(t),console.log("end response"),n.setState({loggedIn:t,error:!t}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("err"),console.log(e.t0);case 15:console.log("post promise");case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),n}return Object(d.a)(s,[{key:"render",value:function(){console.log("login render"),console.log(this.state);var e=null,t=null;return console.log(!0===this.state.loggedIn),!0===this.state.loggedIn&&(e=Object(p.jsx)(b.a,{to:"/login"})),!0===this.state.error&&(t=Object(p.jsx)("small",{style:{fontStyle:"italic",color:"red"},children:"invalid credentials"})),Object(p.jsxs)("div",{className:"Login",children:[Object(p.jsx)("h2",{children:"Login"}),Object(p.jsx)("label",{children:"Username"}),Object(p.jsx)("input",{type:"text",onChange:this.props.changeuser}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",onChange:this.props.changepass}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{type:"submit",onClick:this.login,children:"Login"}),Object(p.jsx)("br",{}),e,t]})}}]),s}(n.Component),x=s(4),O=s.n(x),m=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).state={username:"",password:"",confirmPassword:"",error:!1,exception:!1,approved:!1},n.usernameChangeHandler=function(e){n.setState({username:e.target.value,exception:!1,approved:!1})},n.passwordChangeHandler=function(e){n.setState({password:e.target.value,exception:!1,approved:!1})},n.confirmPasswordChangeHandler=function(e){n.setState({confirmPassword:e.target.value,exception:!1,approved:!1})},n.clearPassword=function(){n.setState({password:null,confirmPassword:null})},n.submitRequestHandler=function(){console.log("clicked register"),console.log(n.state);var e=n.state.password===n.state.confirmPassword;if(console.log("tf"),console.log(e),e){var t={username:n.state.username,password:n.state.password};e&&O.a.post("http://localhost:8080/register",t).then((function(e){n.clearPassword(),n.setState({error:!1,approved:!0,exception:!1}),console.log(e)})).catch((function(e){console.log(e),n.setState({exception:!0})}))}else n.setState({error:!0})},n}return Object(d.a)(s,[{key:"render",value:function(){console.log("Rendered state:"),console.log(this.state);var e=Object(p.jsx)("small",{style:{fontStyle:"italic",color:"red"},children:"Passwords must match"}),t=Object(p.jsx)("small",{style:{fontStyle:"italic",color:"red"},children:"Username already in use"}),s=null,n=null;return this.state.error&&(s=e),this.state.exception&&(s=t),!1===this.state.exception&&!0===this.state.approved&&(n=Object(p.jsx)(b.a,{to:"/login"})),Object(p.jsxs)("div",{className:"Register",children:[Object(p.jsx)("h2",{children:"Register"}),Object(p.jsx)("label",{children:"Username:"}),Object(p.jsx)("input",{type:"text",onChange:this.usernameChangeHandler}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"Password:"}),Object(p.jsx)("input",{type:"password",onChange:this.passwordChangeHandler}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"Confirm Password:"}),Object(p.jsx)("input",{type:"password",onChange:this.confirmPasswordChangeHandler}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{type:"submit",onClick:this.submitRequestHandler,children:"Register"}),Object(p.jsx)("br",{}),s,n]})}}]),s}(n.Component),v=s(10),f=function(e){return Object(p.jsxs)("div",{className:"Item",style:{backgroundColor:"#fff8dc",border:"2px solid black",borderRadius:"3%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"1%",padding:"1%",boxShadow:"10px 10px grey"},children:[Object(p.jsx)("img",{alt:"",src:e.item.image,style:{borderRadius:"10%",boxShadow:"3px 3px grey"}}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{style:{border:"2px solid black",borderRadius:"15%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"1%",padding:"1%",fontFamily:"cursive",backgroundColor:"white"},children:[" ",Object(p.jsx)("div",{children:e.item.title}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{children:Object(p.jsxs)("small",{children:["by: ",e.item.author," "]})}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Price:"})," $",e.item.price.toFixed(2)," "]})]})]})},k=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).getSubject=function(){return"history"==n.props.sub?"History":"science"==n.props.sub?"Science":"fiction"==n.props.sub?"Fiction":"Search"},n.getSubjectLowerCase=function(){return"history"==n.props.sub?"history":"science"==n.props.sub?"science":"fiction"==n.props.sub?"fiction":"search"},n.reviewValue=function(e){if(void 0===e.reviews[0])return null;var t;return t=e.reviews.map((function(e){return Object(p.jsxs)("div",{style:{border:"2px solid grey",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"1%"},children:[Object(p.jsx)("label",{style:{textDecorationLine:"underline"},children:"Review"}),Object(p.jsxs)("p",{children:["Review: ",e.reviewText]}),Object(p.jsxs)("p",{children:["Rating: ",e.rating,"/5"]})]})})),Object(p.jsx)("div",{children:t})},n.searchBook=function(e){var t=e.target.value.toLowerCase(),s=[];n.state.allBooks.map((function(e){e.title.toLowerCase().includes(t)&&s.push(e)})),n.setState({books:s})},n.state={books:[],allBooks:[]},n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=null;t="search"!=this.getSubjectLowerCase()?"http://localhost:8080/getByGenre?genre="+this.getSubjectLowerCase():"http://localhost:8080/getAllBooks",this.setState({isFetching:!0}),O.a.get(t).then((function(t){e.setState({books:t.data,allBooks:t.data})})),this.setState({isFetching:!1})}},{key:"render",value:function(){var e,t=this;e=Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Search Title:"}),Object(p.jsx)("input",{onChange:this.searchBook,type:"text"})]});var s=null;return null!=this.state.books&&(s=this.state.books.map((function(e){return Object(p.jsx)(v.b,{to:"book#"+e.bookId,children:Object(p.jsx)(f,{item:e,reviews:t.reviewValue(e)})})}))),Object(p.jsxs)("div",{className:"Genre",children:[Object(p.jsxs)("h3",{children:[this.getSubject()," Books"]}),e,s]})}}]),s}(n.Component),w=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).updateBookOnMount=function(){O.a.get("http://localhost:8080/getBookById?id="+n.getHash()).then((function(e){console.log(e.data),n.setState({book:e.data}),n.bookView()}))},n.updateBook=function(){O.a.get("http://localhost:8080/getBookById?id="+n.getHash()).then((function(e){console.log(e.data),n.setState({book:e.data})}))},n.bookView=function(){O.a.post("http://localhost:8080/addView?id="+n.state.book.bookId).then((function(e){console.log(e.data)}))},n.toggleReview=function(){n.props.user.authenticated&&n.setState({addReview:!n.state.addReview})},n.getHash=function(){return n.props.item.location.hash.substring(1)},n.incrementQuantity=function(){var e=n.state.quantity+1;n.setState({quantity:e})},n.decrementQuantity=function(){if(0!==n.state.quantity){var e=n.state.quantity-1;n.setState({quantity:e})}},n.changeReviewText=function(e){n.setState({review:{rating:n.state.review.rating,reviewText:e.target.value}})},n.changeRating=function(e){console.log(e.target.value>5),e.target.value>5?e.target.value=5:n.setState({review:{rating:e.target.value,reviewText:n.state.review.reviewText}})},n.submitReview=function(){var e={usernameSubmitted:n.props.user.username,Authorization:n.props.user.token},t={bookId:n.state.book.bookId,username:n.props.user.username,review:n.state.review};O.a.post("http://localhost:8080/addReview",t,{headers:e}).then((function(e){console.log(e),n.updateBook(),n.toggleReview()})).catch((function(e){console.log("username was modified!"),console.log(e)}))},n.getReviews=function(){var e=[];return n.state.book.reviews.forEach((function(t){e.push(Object(p.jsxs)("div",{style:{backgroundColor:"#fff8dc",border:"2px solid black",borderRadius:"3%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"1%",padding:"1%",boxShadow:"5px 5px grey"},children:[Object(p.jsx)("h3",{style:{textDecorationLine:"underline"},children:t.user.username}),Object(p.jsxs)("h5",{children:[t.rating,"/5"]}),Object(p.jsx)("p",{style:{fontFamily:"monospace",fontStyle:"italic"},children:t.reviewText})]}))})),e},n.state={user:null,book:{title:null,author:null,genre:null,price:0,bookId:null,reviews:[{id:0,rating:0,reviewText:null,user:{username:null}}],image:null},quantity:0,addReview:!1,review:{rating:5,reviewText:null}},n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.setState({user:this.props.user}),this.updateBookOnMount(),console.log(this.props)}},{key:"render",value:function(){var e=this,t=null;!0===this.state.addReview&&(t=Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{style:{textDecorationLine:"underline"},children:"Rating"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{style:{width:"35px",textAlign:"center"},type:"number",min:"1",max:"5",onChange:this.changeRating}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{style:{textDecorationLine:"underline"},children:"Review"}),Object(p.jsx)("br",{}),Object(p.jsx)("textarea",{style:{width:"80%",height:"70px",textAlign:"center"},onChange:this.changeReviewText}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:this.submitReview,children:"Submit Review"})]}));var s=null;return console.log(this.state.user),this.props.user.authenticated||(s=Object(p.jsx)("small",{style:{color:"red",fontStyle:"italic"},children:"must login to add review"})),Object(p.jsxs)("div",{className:"BuyBook",style:{backgroundColor:"#fff8dc",border:"2px solid black",borderRadius:"3%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"1%",padding:"1%",boxShadow:"10px 10px grey"},children:[Object(p.jsx)("img",{alt:"",src:this.state.book.image,style:{borderRadius:"10%",boxShadow:"3px 3px grey"}}),Object(p.jsxs)("div",{style:{border:"2px solid black",borderRadius:"15%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"1%",padding:"1%",fontFamily:"cursive",backgroundColor:"white"},children:[" ",Object(p.jsxs)("div",{children:[this.state.book.title," "]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{children:Object(p.jsxs)("small",{children:["by: ",this.state.book.author," "]})}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Price:"})," $",this.state.book.price.toFixed(2)," "]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:this.incrementQuantity,children:"+"}),Object(p.jsx)("p",{children:this.state.quantity}),Object(p.jsx)("button",{onClick:this.decrementQuantity,children:"-"}),"  ",Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:function(){return e.props.atc(e.state.book,e.state.quantity,e.state.user.username)},children:"Add to Cart"})]}),this.getReviews(),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:this.toggleReview,children:"Add Review"})}),s,t]})}}]),s}(n.Component),S=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).state={userTotalSpent:null,userTotalSpentOnBooks:null,salesIntervalId:null,viewsIntervalId:null,monthlyStats:null,topSales:null,topViews:null},n.componentDidMount=function(){n.getUserTotalSpent(),n.getUserTotalSpentOnBooks(),n.getMonthlyStats(),n.getTopViews(),n.startTopViewsListener(),n.getTopSales(),n.startTopSalesListener()},n.componentWillUnmount=function(){return n.stopTopSalesListener(),n.stopTopViewsListener(),!0},n.getUserTotalSpent=function(){var e={Authorization:n.props.user.token};O.a.get("http://localhost:8080/userTotalSpent",{headers:e}).then((function(e){n.setState({userTotalSpent:e.data})}))},n.getUserTotalSpentOnBooks=function(){var e={Authorization:n.props.user.token};O.a.get("http://localhost:8080/userTotalSpentOnBooks",{headers:e}).then((function(e){n.setState({userTotalSpentOnBooks:e.data})}))},n.getMonthlyStats=function(){console.log("in getMonthlyBooks");var e={Authorization:n.props.user.token};O.a.get("http://localhost:8080/monthlyStats",{headers:e}).then((function(e){console.log(e),n.setState({monthlyStats:e.data})}))},n.startTopViewsListener=function(){console.log("IN START VIEWS"),n.setState({viewsIntervalId:setInterval(n.getTopViews,15e3)})},n.stopTopViewsListener=function(){console.log("IN STOP VIEWS"),clearInterval(n.state.viewsIntervalId)},n.getTopViews=function(){var e={Authorization:n.props.user.token};O.a.get("http://localhost:8080/topViews",{headers:e}).then((function(e){n.setState({topViews:e.data}),console.log(e)}))},n.startTopSalesListener=function(){console.log("IN START SALES"),n.setState({salesIntervalId:setInterval(n.getTopSales,15e3)})},n.stopTopSalesListener=function(){console.log("IN STOP SALES"),clearInterval(n.state.salesIntervalId)},n.getTopSales=function(){console.log("in getTopSales");var e={Authorization:n.props.user.token};O.a.get("http://localhost:8080/topSales",{headers:e}).then((function(e){console.log(e),n.setState({topSales:e.data})}))},n}return Object(d.a)(s,[{key:"render",value:function(){var e=[];null!=this.state.userTotalSpent&&(e=this.state.userTotalSpent.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.username}),Object(p.jsx)("td",{children:e.itemsBought}),Object(p.jsx)("td",{children:e.postalCode}),Object(p.jsxs)("td",{children:["$",e.spent.toFixed(2)]})]})})));var t=[];null!=this.state.userTotalSpentOnBooks&&(t=this.state.userTotalSpentOnBooks.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.username}),Object(p.jsx)("td",{children:e.title}),Object(p.jsx)("td",{children:e.author}),Object(p.jsxs)("td",{children:["$",e.price.toFixed(2)]}),Object(p.jsx)("td",{children:e.quantity}),Object(p.jsx)("td",{children:e.postalCode}),Object(p.jsxs)("td",{children:["$",e.spent.toFixed(2)]})]})})));var s=[];null!=this.state.monthlyStats&&(s=this.state.monthlyStats.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.bookSold}),Object(p.jsx)("td",{children:e.title}),Object(p.jsx)("td",{children:e.month})]})})));var n=[];null!=this.state.topViews&&(n=this.state.topViews.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.userViews}),Object(p.jsx)("td",{children:e.title})]})})));var r=[];return null!=this.state.topSales&&(r=this.state.topSales.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.booksSold}),Object(p.jsx)("td",{children:e.title})]})}))),Object(p.jsxs)("div",{className:"Analytics",children:[Object(p.jsxs)("div",{style:{marginLeft:"20%",marginRight:"20%",width:"60%",textAlign:"center"},children:[Object(p.jsx)("h2",{children:"Top Sales (Live)"}),Object(p.jsxs)("table",{style:{border:"2px solid black",width:"100%"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Books Sold"}),Object(p.jsx)("th",{children:"Title"})]}),r]})]}),Object(p.jsxs)("div",{style:{marginLeft:"20%",marginRight:"20%",width:"60%",textAlign:"center"},children:[Object(p.jsx)("h2",{children:"Top Views (Live)"}),Object(p.jsxs)("table",{style:{border:"2px solid black",width:"100%"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Book Views"}),Object(p.jsx)("th",{children:"Title"})]}),n]})]}),Object(p.jsxs)("div",{style:{marginLeft:"20%",marginRight:"20%",width:"60%",textAlign:"center"},children:[Object(p.jsx)("h2",{children:"Books Sold by Month"}),Object(p.jsxs)("table",{style:{border:"2px solid black",width:"100%"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Books Sold"}),Object(p.jsx)("th",{children:"Title"}),Object(p.jsx)("th",{children:"Month"})]}),s]})]}),Object(p.jsxs)("div",{style:{marginLeft:"20%",marginRight:"20%",width:"60%",textAlign:"center"},children:[Object(p.jsx)("h2",{children:"Total Each User Has Spent on Each Book"}),Object(p.jsxs)("table",{style:{border:"2px solid black",width:"100%"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Username"}),Object(p.jsx)("th",{children:"Title"}),Object(p.jsx)("th",{children:"Author"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Quantity"}),Object(p.jsx)("th",{children:"Postal Code"}),Object(p.jsx)("th",{children:"Total Spent"})]}),t]})]}),Object(p.jsxs)("div",{style:{marginLeft:"20%",marginRight:"20%",width:"60%",textAlign:"center"},children:[Object(p.jsx)("h2",{children:"Total Each User Has Spent in Total"}),Object(p.jsxs)("table",{style:{border:"2px solid black",width:"100%"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Username"}),Object(p.jsx)("th",{children:"Total Items Bought"}),Object(p.jsx)("th",{children:"Postal Code"}),Object(p.jsx)("th",{children:"Total Spent"})]}),e]})]})]})}}]),s}(n.Component),y=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).state={subjects:["Search","History","Fiction","Science"]},n}return Object(d.a)(s,[{key:"render",value:function(){var e;e=this.state.subjects.map((function(e){return Object(p.jsx)(v.b,{to:"/"+e,children:Object(p.jsx)("div",{style:{backgroundColor:"#fff8dc",border:"2px solid black",borderRadius:"3%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"3%",padding:"1%"},children:Object(p.jsx)("h4",{children:e})})})}));var t=null;"ROLE_ADMIN"==this.props.user.role&&(t=Object(p.jsx)(v.b,{to:"analytics",children:Object(p.jsx)("div",{style:{backgroundColor:"#fff8dc",border:"2px solid black",borderRadius:"3%",marginLeft:"20%",marginRight:"20%",marginBottom:"1%",marginTop:"3%",padding:"1%"},children:Object(p.jsx)("h4",{children:"Analytics"})})}));var s=null;return"ROLE_PARTNER"===this.props.user.role&&(s=Object(p.jsx)("a",{href:"http://localhost:8080/getAllBooks",children:"Business Partner Link"})),Object(p.jsxs)("div",{className:"Browse",children:[Object(p.jsxs)("h4",{children:["Browse Books ",this.props.user.username]}),s,t,e]})}}]),s}(n.Component),T=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;Object(u.a)(this,s),(n=t.call(this,e)).state={cart:[],user:{username:null,password:null},authuser:{authenticated:!1,username:null,token:null,tokenExpires:null,role:null}},n.clearPassword=function(){n.setState({user:{username:n.state.user.username,password:null}})},n.usernameChangeHandler=function(e){n.setState({user:{username:e.target.value,password:n.state.user.password}})},n.passwordChangeHandler=function(e){n.setState({user:{username:n.state.user.username,password:e.target.value}})},n.logout=function(){localStorage.removeItem("authuser"),n.setState({user:{username:null},authuser:{authenticated:!1,username:null,token:null,tokenExpires:null}})},n.login=Object(l.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,console.log("clicked login"),t={username:n.state.user.username,password:n.state.user.password},e.prev=3,e.next=6,O.a.post("http://localhost:8080/login",null,{headers:t});case 6:return s=e.sent,n.clearPassword(),n.setState({authuser:{authenticated:!0,username:n.state.user.username,token:s.headers.authorization,tokenExpires:s.headers.expires,role:s.headers.role}}),localStorage.setItem("authuser",JSON.stringify(n.state.authuser)),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",!1);case 17:case 18:case"end":return e.stop()}}),e,null,[[3,13]])}))),n.addToCart=function(e,t,s){var r,o=[],a=-1;for(r=0;r<n.state.cart.length;r++)o.push(n.state.cart[r]),console.log(n.state.cart[r].book.bookId),console.log(e.bookId),console.log(n.state.cart[r].book.bookId===e.bookId),n.state.cart[r].book.bookId===e.bookId&&a<0&&(a=r,console.log(a));a>=0?o[a].quantity=o[a].quantity+t:o.push({book:e,quantity:t,username:s}),n.setState({cart:o}),console.log("cart books:"),console.log(n.state.cart)};var r=localStorage.getItem("authuser");if(console.log(r),null!=r){var o=JSON.parse(r);console.log(o);var a=new Date,i=o.tokenExpires.split("-"),d=new Date(parseInt(i[0]),parseInt(i[1])-1,parseInt(i[2]));a.getFullYear()<=d.getFullYear()&&a.getMonth()<=d.getMonth()&&a.getDate()<d.getDate()&&(n.state={cart:[],login:!0,user:{username:o.username,password:null},authuser:{authenticated:o.authenticated,username:o.username,token:o.token,tokenExpires:o.tokenExpires,role:o.role}})}return n}return Object(d.a)(s,[{key:"render",value:function(){var e=this,t=Object(p.jsx)(g,{click:this.login,changeuser:this.usernameChangeHandler,changepass:this.passwordChangeHandler}),s=Object(p.jsx)(m,{});!0===this.state.authuser.authenticated&&(t=Object(p.jsx)(y,{user:this.state.authuser,cart:this.state.cart,atc:this.addToCart,click:this.logout}),s=Object(p.jsx)(y,{user:this.state.authuser,cart:this.state.cart,atc:this.addToCart,click:this.logout}));var n,r=null,o=Object(p.jsx)(v.b,{style:{margin:"2px"},to:"/login",children:"Login"}),a=Object(p.jsx)(v.b,{style:{margin:"2px"},to:"/register",children:"Register"});return n=Object(p.jsx)(v.b,{style:{margin:"2px"},to:"",children:"Browse"}),this.state.authuser.authenticated&&(r=Object(p.jsx)(v.b,{to:"",style:{margin:"2px"},onClick:this.logout,children:"Logout"}),o=null,a=null),Object(p.jsx)(v.a,{children:Object(p.jsxs)("div",{style:{marginBottom:"10%"},className:"App",children:[Object(p.jsx)("h1",{children:"The Book Club"}),n," ",r,o,a,Object(p.jsx)(b.b,{path:"/register",render:function(e){return s}}),Object(p.jsx)(b.b,{path:"/login",render:function(e){return t}}),Object(p.jsx)(b.b,{path:"/",exact:!0,render:function(t){return Object(p.jsx)(y,{user:e.state.authuser,cart:e.state.cart,atc:e.addToCart,click:e.logout})}}),Object(p.jsx)(b.b,{path:"/browse",render:function(t){return Object(p.jsx)(y,{user:e.state.authuser,cart:e.state.cart,atc:e.addToCart,click:e.logout})}}),Object(p.jsx)(b.b,{path:"/analytics",render:function(t){return Object(p.jsx)(S,{user:e.state.authuser})}}),Object(p.jsx)(b.b,{path:"/search",render:function(e){return Object(p.jsx)(k,{sub:"search"})}}),Object(p.jsx)(b.b,{path:"/history",render:function(e){return Object(p.jsx)(k,{sub:"history"})}}),Object(p.jsx)(b.b,{path:"/fiction",render:function(e){return Object(p.jsx)(k,{sub:"fiction"})}}),Object(p.jsx)(b.b,{path:"/science",render:function(e){return Object(p.jsx)(k,{sub:"science"})}}),Object(p.jsx)(b.b,{path:"/book",render:function(t){return Object(p.jsx)(w,{item:t,cart:e.state.cart,atc:e.addToCart,user:e.state.authuser})}})]})})}}]),s}(n.Component),C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,67)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;s(e),n(e),r(e),o(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),C()}},[[66,1,2]]]);
//# sourceMappingURL=main.6682cc46.chunk.js.map